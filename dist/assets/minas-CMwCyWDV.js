import{Z as M,G as D,A as E,D as w}from"./GLTFLoader-PfjI8pFD.js";/* empty css              */document.addEventListener("DOMContentLoaded",()=>{const g=document.querySelector("#start-button"),n=document.querySelector("#ar-container"),f=[{name:"Mina a Cielo Abierto",file:"minaAcieloAbierto.glb",scale:.1,description:"Método de explotación donde se extraen minerales desde un gran rajo superficial. Los bancos y rampas forman una estructura escalonada."},{name:"Mina Industrial",file:"minaIndustrial.glb",scale:.05,description:"Mina industrial subterránea que utiliza túneles y cámaras para acceder a los depósitos minerales profundos."},{name:"Mina Subterránea",file:"minaSubterranea.glb",scale:.1,description:"Mina subterránea que emplea métodos como el corte y relleno, o el hundimiento por bloques para extraer minerales."},{name:"Mina a cielo Abierto con Equipos",file:"minaacieloabierto2.glb",scale:.1,description:"Mina a cielo abierto vista desde otro ángulo, mostrando maquinaria pesada utilizada en la extracción."}];let o=null;const h=async()=>{document.querySelector(".ui-overlay").style.display="none",n.style.display="block",document.querySelector("#scanning-ui").classList.remove("hidden");const a=new M({container:n,imageTargetSrc:"/AppMindAr/mind/minas-targets.mind"}),{renderer:d,scene:i,camera:y}=a,b=new D;i.add(new E(16777215,.8));const u=new w(16777215,1);u.position.set(5,10,7.5),i.add(u),f.map((e,c)=>{const t=a.addAnchor(c);return b.load(`/AppMindAr/models/${e.file}`,A=>{const l=A.scene;l.scale.set(e.scale,e.scale,e.scale),l.position.set(0,-.2,0),t.group.add(l)}),t.onTargetFound=()=>{document.querySelector("#scanning-ui").classList.add("hidden"),o=t.group,S(e)},t.onTargetLost=()=>{o=null,!document.querySelector(".ui-overlay").style.display==="none"&&document.querySelector("#scanning-ui").classList.remove("hidden"),p()},t});const m=document.querySelector("#info-panel"),L=document.querySelector("#info-name"),q=document.querySelector("#info-description"),v=document.querySelector("#close-info-btn"),S=e=>{L.textContent=e.name,q.textContent=e.description,m.classList.remove("hidden")},p=()=>{m.classList.add("hidden")};v.addEventListener("click",p);let r=0,s=!1;n.addEventListener("touchstart",e=>{e.touches.length===1&&(s=!0,r=e.touches[0].clientX)}),n.addEventListener("touchend",()=>{s=!1}),n.addEventListener("touchmove",e=>{if(e.preventDefault(),s&&o&&e.touches.length===1){const c=e.touches[0].clientX-r;o.rotation.y+=c*.01,r=e.touches[0].clientX}},{passive:!1}),await a.start(),d.setAnimationLoop(()=>{d.render(i,y)})};g.addEventListener("click",h)});
