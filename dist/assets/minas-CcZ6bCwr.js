import{Z as X,G as x,A as C,D as L}from"./GLTFLoader-PfjI8pFD.js";/* empty css              */document.addEventListener("DOMContentLoaded",()=>{const b=document.querySelector("#start-button"),a=document.querySelector("#ar-container"),m=[{name:"Camión Volquete",file:"camionamarilloTelone.glb",scale:.65,description:"Camión volquete de gran capacidad utilizado para el transporte de material estéril y mineral dentro de la mina."},{name:"Excavadora Hidráulica",file:"renderamarillo.glb",scale:.65,description:"Maquinaria pesada esencial para la carga de material en camiones. Su brazo hidráulico permite excavar y mover grandes volúmenes de tierra y roca."},{name:"Formación Geológica",file:"openpitmine.glb",scale:.035,description:"Modelo de elevación digital que muestra una estructura geológica compleja, como un domo o anticlinal, con capas de roca plegadas y expuestas."},{name:"Mina a Cielo Abierto",file:"minaacieloabierto.glb",scale:.01,description:"Modelo 3D de una mina a cielo abierto. Este método extrae minerales desde un rajo superficial, creando bancos o terrazas escalonadas para la operación."},{name:"Oro",file:"oro.glb",scale:.55,description:"Muestra de Oro, un metal precioso muy valorado por su brillo y rareza. Es un elemento clave en la minería mundial."},{name:"Wolframita",file:"wolframita.glb",scale:.45,description:"Espécimen de Wolframita, un mineral de tungsteno de color negro o gris oscuro con un característico brillo submetálico."}];let n=null,s=!1,d=0,c=null,p=null;const S=async()=>{document.querySelector(".ui-overlay").style.display="none",a.style.display="block",document.querySelector("#scanning-ui").classList.remove("hidden");const u=new X({container:a,imageTargetSrc:"/AppMindAr/mind/minas-targets.mind"}),{renderer:h,scene:l,camera:q}=u,M=new x;l.add(new C(16777215,1.2));const g=new L(16776160,.9);g.position.set(2,3,2),l.add(g);const f=new L(16777215,.6);f.position.set(-2,2,-2),l.add(f),m.map((e,o)=>{const t=u.addAnchor(o);return M.load(`/AppMindAr/models/${e.file}`,i=>{const r=i.scene;r.scale.set(e.scale,e.scale,e.scale),r.position.set(0,0,0),t.group.add(r),t.modelMain=r}),t.onTargetFound=()=>{document.querySelector("#scanning-ui").classList.add("hidden"),t.group,n=t.modelMain,w(m[o])},t.onTargetLost=()=>{n=null,document.querySelector("#scanning-ui").classList.remove("hidden"),v()},t});const y=document.querySelector("#info-panel"),D=document.querySelector("#info-name"),A=document.querySelector("#info-description"),E=document.querySelector("#close-info-btn"),w=e=>{D.textContent=e.name,A.textContent=e.description,y.classList.remove("hidden")},v=()=>{y.classList.add("hidden")};E.addEventListener("click",v),a.addEventListener("touchstart",e=>{n&&(e.touches.length===1&&(s=!0,d=e.touches[0].clientX),e.touches.length===2&&(c=Math.hypot(e.touches[0].clientX-e.touches[1].clientX,e.touches[0].clientY-e.touches[1].clientY),p=n.scale.x))}),a.addEventListener("touchend",()=>{s=!1,c=null}),a.addEventListener("touchmove",e=>{if(e.preventDefault(),n){if(s&&e.touches.length===1){const o=e.touches[0].clientX-d;n.rotation.y+=o*.01,d=e.touches[0].clientX}if(e.touches.length===2&&c){let t=Math.hypot(e.touches[0].clientX-e.touches[1].clientX,e.touches[0].clientY-e.touches[1].clientY)/c,i=Math.max(.01,Math.min(.1,p*t));n.scale.set(i,i,i)}}},{passive:!1}),await u.start(),h.setAnimationLoop(()=>{h.render(l,q)})};b.addEventListener("click",S)});
