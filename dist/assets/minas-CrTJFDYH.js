import{Z as X,G as z,A as x,D as v}from"./GLTFLoader-PfjI8pFD.js";/* empty css              */document.addEventListener("DOMContentLoaded",()=>{const b=document.querySelector("#start-button"),a=document.querySelector("#ar-container"),m=[{name:"Camión Volquete",file:"camionamarilloTelone.glb",scale:.75,description:"Camión volquete de gran capacidad utilizado para el transporte de material estéril y mineral dentro de la mina."},{name:"Excavadora Hidráulica",file:"renderamarillo.glb",scale:.75,description:"Maquinaria pesada esencial para la carga de material en camiones. Su brazo hidráulico permite excavar y mover grandes volúmenes de tierra y roca."},{name:"Formación Geológica",file:"openpitmine.glb",scale:.035,description:"Modelo de elevación digital que muestra una estructura geológica compleja, como un domo o anticlinal, con capas de roca plegadas y expuestas."},{name:"Mina a Cielo Abierto",file:"minaacieloabierto.glb",scale:.03,description:"Modelo 3D de una mina a cielo abierto. Este método extrae minerales desde un rajo superficial, creando bancos o terrazas escalonadas para la operación."},{name:"Lapislázuli",file:"lapislazuli.glb",scale:.75,description:"Muestra de Lapislázuli, una roca semipreciosa conocida por su intenso color azul, compuesta por lazurita, calcita y pirita."},{name:"Wolframita",file:"wolframita.glb",scale:.5,description:"Espécimen de Wolframita, un mineral de tungsteno de color negro o gris oscuro con un característico brillo submetálico."}];let t=null,c=!1,d=0,l=null,p=null;const S=async()=>{document.querySelector(".ui-overlay").style.display="none",a.style.display="block",document.querySelector("#scanning-ui").classList.remove("hidden");const u=new X({container:a,imageTargetSrc:"/AppMindAr/mind/minas-targets.mind"}),{renderer:h,scene:s,camera:q}=u,M=new z;s.add(new x(16777215,1.2));const g=new v(16776160,.9);g.position.set(2,3,2),s.add(g);const f=new v(16777215,.6);f.position.set(-2,2,-2),s.add(f),m.map((e,o)=>{const n=u.addAnchor(o);return M.load(`/AppMindAr/models/${e.file}`,i=>{const r=i.scene;r.scale.set(e.scale,e.scale,e.scale),r.position.set(0,0,0),n.group.add(r),n.modelMain=r}),n.onTargetFound=()=>{document.querySelector("#scanning-ui").classList.add("hidden"),n.group,t=n.modelMain,E(m[o])},n.onTargetLost=()=>{t=null,document.querySelector("#scanning-ui").classList.remove("hidden"),L()},n});const y=document.querySelector("#info-panel"),D=document.querySelector("#info-name"),A=document.querySelector("#info-description"),w=document.querySelector("#close-info-btn"),E=e=>{D.textContent=e.name,A.textContent=e.description,y.classList.remove("hidden")},L=()=>{y.classList.add("hidden")};w.addEventListener("click",L),a.addEventListener("touchstart",e=>{t&&(e.touches.length===1&&(c=!0,d=e.touches[0].clientX),e.touches.length===2&&(l=Math.hypot(e.touches[0].clientX-e.touches[1].clientX,e.touches[0].clientY-e.touches[1].clientY),p=t.scale.x))}),a.addEventListener("touchend",()=>{c=!1,l=null}),a.addEventListener("touchmove",e=>{if(e.preventDefault(),t){if(c&&e.touches.length===1){const o=e.touches[0].clientX-d;t.rotation.y+=o*.01,d=e.touches[0].clientX}if(e.touches.length===2&&l){let n=Math.hypot(e.touches[0].clientX-e.touches[1].clientX,e.touches[0].clientY-e.touches[1].clientY)/l,i=Math.max(.01,Math.min(.1,p*n));t.scale.set(i,i,i)}}},{passive:!1}),await u.start(),h.setAnimationLoop(()=>{h.render(s,q),t&&!c&&(t.rotation.y+=.005)})};b.addEventListener("click",S)});
